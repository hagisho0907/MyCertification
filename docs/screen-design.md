# 画面設計書

## 画面一覧
- G-01 ホーム / 概要
- G-02 問題演習（一覧＋解答）
- G-03 復習リスト
- G-04 ユーティリティ（データリセット・データ変換ガイド）
- G-05 セッション履歴

## 共通レイアウト指針
- ヘッダー: サイトロゴ/タイトル、進捗サマリー、データリセット操作を配置。
- メインコンテンツ: 最大幅 1200px の中央揃え。カードベースで情報を整理。
- カラートーン: モノトーン＋アクセントカラー1色（例: `#2563eb`）でモダンかつシンプルに構成。
- タイポグラフィ: サンセリフ系、16px 基準。タイトル/小見出しで階層を明確化。
- レスポンシブ: ブレークポイント 768px、1024px を想定。モバイル時はカード幅を 100% に、進捗サマリーを縦積みにする。

---

## G-01 ホーム / 概要
- **目的**: 学習概要の提示とセッション開始・履歴参照のハブとなる。
- **主要要素**
  - ヒーロー: アプリ説明、対象資格名、問題総数、最終更新日。
  - 進捗カード: 累積の学習率、正答率、復習対象数をカードで表示。
  - セッションコントロール: 「第 n 回目の学習を開始」ボタン、未完了セッションがあれば「続きから」ボタン、履歴ページへの導線ボタン。
  - 復習リストへの導線: フラグ対象数を強調したボタン。
- **レイアウト案**
```
[ Header ]

[ Hero: タイトル | 説明 | Start Button/Resume ]

[ Cards: 
  ┌ 正答率 ┐ ┌ 学習済み ┐ ┌ 復習対象 ┐
]

[ Recent Sessions Table ]
```

---

## G-02 問題演習（一覧＋解答）
- **目的**: 1ページ20問の問題をカード表示し、回答・解説を扱うメイン画面。セッション番号を明示し、同一セッション内で繰り返し学習できる。
- **主要エリア**
  - 進捗バー: 現在ページ / 総ページ、正答率、未回答数、セッション番号（例: 第3回）など。
  - セッション操作: 「セッションを開始/再開」カードを常設し、進行中のセッションを任意のページから再開できる導線を配置。
  - フィルター／ソート（初期は非活性）: 将来拡張用のプレースホルダを設置しておく。
- 問題カード（20件/ページ）: 各カード内に問題文、任意のメタ情報（タグなど）、選択肢 UI、回答結果、解説を配置。
  - ページャ: 「前の20問」「次の20問」。最後のページでは「学習を終了する」リンクを表示。
- **カード構造**
  - ヘッダー: `Q{番号}`、タグ（任意）、復習フラグ切替。
  - 本文: 問題文、補足情報。
  - 選択肢: 単一/複数選択に応じてラジオボタン or チェックボックスを切替。
  - アクション: 「回答を確定」ボタン（複数選択時のみ）。単一選択時は選択と同時に確定。
  - 結果エリア: 正誤表示（アイコン＋テキスト）、解説、参照リンク。
- **レイアウト案**
```
[ Header | Session Indicator | Progress Summary | Reset ]

[ Pagination Bar ]

┌ Q1 カード ┐
| 問題文        |
| 選択肢(ラジオ)|  ← 単一選択時
| 結果/解説     |
└─────────┘

... (20 cards)

[ Prev 20 ] [ Page Indicator ] [ Next 20 ]
```
- **状態遷移**
  - 未回答: 選択肢が強調、結果エリア非表示。
  - 回答後（正解）: カード枠をアクセントカラーで表示、正解アイコン、解説表示。解説を閉じる/完了操作後は選択肢をリセットして未回答状態に戻るが、セッション履歴は保持。
  - 回答後（不正解）: 赤系の枠・アイコン、復習ボタンを自動オンにする設定も検討。完了操作後は選択肢をリセット。
  - 復習フラグ付き: カード右上にタグ表示。フィルタ時は該当カードのみ表示。

---

## G-03 復習リスト
- **目的**: 復習対象（復習フラグまたは直近不正解）のみを抽出して集中学習でき、セッションを跨いでも維持される。
- **主要要素**
  - フィルタヘッダー: 復習対象 / 直近不正解 / フラグ付き のトグル。
  - 問題カード: G-02 と同じ構造だが、フラグ解除/再回答の操作を強調。再回答してもセッション番号は影響せず、最新結果のみが記録される。
  - ステータス: 該当件数、直近更新日時、フラグ維持期間の表示（例: 第1回から継続など）。
- **レイアウト案**
```
[ Header | 復習対象数 | トグル ]

┌ 復習カード ┐
| 問題文 + 状態 |
| 「復習済みにする」ボタン |
└─────────┘
```

---

## G-04 ユーティリティ
- **目的**: データリセットとデータ変換に関する情報提供。
- **内容**
  - ローカルストレージ初期化ボタン（確認ダイアログ付き）。
  - CSV→JSON 変換手順とコマンド例（外部スクリプト実行のガイド）。
  - バージョン情報や開発者メモの表示欄。
- **備考**
  - 必要に応じてモーダルで表示し、通常はフッターのリンクからアクセスする。

---

## G-05 セッション履歴
- **目的**: 過去の学習セッションの成績を参照し、問題・解説を再確認できる。
- **主要要素**
  - ヘッダー: タイトル、説明テキスト、ホームへの戻りボタン。
  - セッションカード: 正答率、回答数、不正解数、開始・終了日時を表示。「詳細を見る」ボタンと「削除」ボタンを配置。
  - 詳細モーダル: セッション内で回答した問題の本文、選択肢（正解・選択状態）、解説を一覧表示。
- **レイアウト案**
```
[ Header | Back to Home ]

[ Session Cards Stack ]
  ┌ 第7回 ─ 正答率 70% ┐
  | 詳細を見るボタン      |
  └────────────────┘

[ Modal ]
  ┌ Q1 正解 ┐
  | 問題文    |
  | 選択肢一覧 |
  | 解説       |
  └────────┘
```
