# 要件定義書

## プロジェクト概要
- プロジェクト名: MyCertification
- 目的: AWS Certified DevOps Engineer - Professional の過去問を自習できるモダンでシンプルな Web アプリを提供する。
- 概要: CSV で管理した過去問データをもとに、1ページあたり約20問を表示し、各問題の解答と解説をクイズ形式で確認できる。学習履歴（正誤・復習状況）をローカルに記録し、進捗確認をサポートする。
- 参考サイト: https://www.examtopics.com/ の表示形式をベンチマークとする。

## 対象範囲
- 対象ユーザー: 開発者本人（単独利用）。ログイン機能は当面不要。
- 対象資格: MVP では AWS Certified DevOps Engineer - Professional のみ。将来的な複数資格展開は考慮するが本スコープ外。
- 対応デバイス: PC ブラウザを主対象、タブレットでの閲覧も想定。スマートフォン表示は優先度低。

## 想定ユースケース
1. 利用者がトップページで学習セットを選択し（初期はDevOps Proのみ）、「学習開始」ボタンで問題一覧に遷移する。
2. 問題一覧ページで 1ページ20問のカードを順番に解き、選択肢を選んで回答を表示する。
3. 正誤と解説を確認し、必要であれば「復習に追加」などでフラグを付与する。
4. ページ末尾またはヘッダーで進捗サマリー（正答率、復習対象数など）を確認する。
5. 学習履歴はブラウザのローカルストレージに保存され、次回アクセス時も継続して参照できる。
6. 運用者は CSV を更新し、変換スクリプトで JSON を再生成してリポジトリに反映する。

## 機能要件
- F-01 認定試験選択: 初期は DevOps Pro 固定だが、将来的な追加に備え、試験メタデータを切り出しておく。
- F-02 問題一覧表示: 1ページ20問をカード形式で表示し、スクロールで閲覧できる。
- F-03 選択肢操作: 単一選択はラジオボタンを選択した時点で回答確定、複数選択はチェックボックスと「回答を確定」ボタンで判定し、確定後に正誤を表示してロックする。複数選択時は未確定なら再選択を許可する。
- F-04 解説表示: 回答後に解説テキストと参照リンクを表示する。初期状態では折りたたみでも可。
- F-05 進捗記録: 質問ごとの最新回答結果（正解/不正解/未回答）、解答日時、復習フラグをローカルストレージに保存する。
- F-06 サマリー表示: 現在ページ、全体の正答率、未解答数、復習対象数などをヘッダーまたはサイドに表示する。
- F-07 データ取り込み: CSV ファイルから JSON データへ変換するスクリプトを備え、Next.js で静的に読み込める形へ整形する。
- F-08 復習フィルタ: 復習フラグや直近の不正解のみを抽出して表示する機能（進捗記録がある前提の副次機能）。
- F-09 データリセット: ローカルストレージの学習履歴を初期化する手段を提供する（リセット前に確認ダイアログを表示）。

## 非機能要件
- 技術スタック: Next.js、Tailwind CSS、Vercel（ホスティング）。
- パフォーマンス: 20問程度のページで初回ロード 1 秒以内（Vercel 上での静的ビルドを想定）。
- ユーザビリティ: シンプルでモダンなデザイン。キーボード操作やアクセシビリティ属性（aria）を可能な範囲で付与する。表示はタブレット以上を最適化し、スマートフォンは幅768px未満で1カラムになる最低限の対応とする。
- 信頼性: ローカルストレージ以外に外部データベースは使用しない。ビルド時の静的データがソースとなる。
- セキュリティ/プライバシー: 個人利用のため認証不要。ローカルストレージのデータはユーザー端末内のみで完結。
- メンテナンス性: 試験データの追加・更新が CSV を介して容易に行えるようスキーマを明示し、変換スクリプトを再利用可能にする。

## 制約・前提
- 既存の問題データは管理者（利用者自身）が手作業または独自手段で CSV へ投入する。
- 変換スクリプトはローカル実行を想定し、CI/CD で自動反映する運用は現時点では考えない。
- 複数試験への拡張を見据えてデータ構造には `exam_id` を含める。
- 記述式問題は扱わない。複数選択の択一および多選択に対応できるようにしておく。
- 画像・図版は初期スコープ外。必要な場合は別途管理方法を検討する。

## 未決定事項・フォローアップ
- CSV から JSON へ変換するスクリプトの実装とテスト（仕様は `docs/csv-to-json-spec.md` 参照）。
- 複数選択 UI の操作フロー（チェックボックス＋確定ボタン）のデザインモック検証。
- 復習機能の運用（不正解時に自動フラグON、ユーザー操作で復習済み/未に切替）の細部定義。
- スマートフォン対応の優先度とテスト方針（暫定対応済みの幅768px未満1カラム表示の扱い）。
- 将来の複数資格対応時のナビゲーション構成（トップで資格一覧→演習ページ）、およびデータ分割戦略の具体化。
